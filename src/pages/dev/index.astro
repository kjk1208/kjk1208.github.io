---
import DocsLayout from '../../layouts/DocsLayout.astro';
import { getCollection } from 'astro:content';
const posts = (await getCollection('dev', p => !p.data.draft)).sort((a,b) => (a.data.date < b.data.date ? 1 : -1));
const sidebarLinks = [{ href: '/dev/', label: '전체' }];
---
<DocsLayout sidebarTitle="개발" {sidebarLinks}>
  <h1>개발 노트</h1>
  <div class="post-list">
    {posts.map((p) => (
      <article class="post-item">
        <h3><a href={`/dev/${p.slug}/`}>{p.data.title}</a></h3>
        <div class="small">{p.data.date}{p.data.tags.length ? ` • ${p.data.tags.join(', ')}` : ''}</div>
        {p.data.summary && <p style="margin:.4rem 0 0 0;">{p.data.summary}</p>}
      </article>
    ))}
  </div>
</DocsLayout>
